============================= test session starts =============================
platform win32 -- Python 3.12.2, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\saisagar\Downloads\flask-react-assessment-saisagardunna-main\flask-react-assessment-saisagardunna-main\tests
configfile: pyproject.toml
plugins: cov-7.0.0
collected 5 items

tests\modules\task\test_comment_api.py FEFEFEFEFE                        [100%]

=================================== ERRORS ====================================
___________ ERROR at teardown of TestCommentApi.test_create_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\task\internal\store\task_repository.py:40: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'tasks', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'bsonType': 'object', 'properties': {'...bsonType': 'string'}, ...}, 'required': ['account_id', 'description', 'title', 'active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
___________ ERROR at teardown of TestCommentApi.test_delete_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\task\internal\store\task_repository.py:40: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'tasks', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'bsonType': 'object', 'properties': {'...bsonType': 'string'}, ...}, 'required': ['account_id', 'description', 'title', 'active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
______ ERROR at teardown of TestCommentApi.test_delete_comment_not_found ______
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\task\internal\store\task_repository.py:40: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'tasks', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'bsonType': 'object', 'properties': {'...bsonType': 'string'}, ...}, 'required': ['account_id', 'description', 'title', 'active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
____________ ERROR at teardown of TestCommentApi.test_get_comments ____________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\task\internal\store\task_repository.py:40: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'tasks', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'bsonType': 'object', 'properties': {'...bsonType': 'string'}, ...}, 'required': ['account_id', 'description', 'title', 'active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
___________ ERROR at teardown of TestCommentApi.test_update_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\task\internal\store\task_repository.py:40: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'tasks', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'bsonType': 'object', 'properties': {'...bsonType': 'string'}, ...}, 'required': ['account_id', 'description', 'title', 'active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
================================== FAILURES ===================================
_____________________ TestCommentApi.test_create_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_create_comment>

    def test_create_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:8: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\account\internal\store\account_repository.py:47: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'accounts', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'anyOf': [{'required': ['username']... {'bsonType': 'string', 'description': 'must be a string'}, ...}, 'required': ['active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
_____________________ TestCommentApi.test_delete_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_delete_comment>

    def test_delete_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\account\internal\store\account_repository.py:47: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'accounts', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'anyOf': [{'required': ['username']... {'bsonType': 'string', 'description': 'must be a string'}, ...}, 'required': ['active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
________________ TestCommentApi.test_delete_comment_not_found _________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_delete_comment_not_found>

    def test_delete_comment_not_found(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:91: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\account\internal\store\account_repository.py:47: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'accounts', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'anyOf': [{'required': ['username']... {'bsonType': 'string', 'description': 'must be a string'}, ...}, 'required': ['active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
______________________ TestCommentApi.test_get_comments _______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_get_comments>

    def test_get_comments(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\account\internal\store\account_repository.py:47: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'accounts', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'anyOf': [{'required': ['username']... {'bsonType': 'string', 'description': 'must be a string'}, ...}, 'required': ['active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
_____________________ TestCommentApi.test_update_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_update_comment>

    def test_update_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:55: in collection
    cls.on_init_collection(collection)
src\apps\backend\modules\account\internal\store\account_repository.py:47: in on_init_collection
    collection.database.command(add_validation_command)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = Database(mongomock.MongoClient('localhost', 27017), 'test_db')
command = {'collMod': 'accounts', 'validationLevel': 'strict', 'validator': {'$jsonSchema': {'anyOf': [{'required': ['username']... {'bsonType': 'string', 'description': 'must be a string'}, ...}, 'required': ['active', 'created_at', 'updated_at']}}}
unused_kwargs = {}

    def command(self, command, **unused_kwargs):
        if isinstance(command, str):
            command = {command: 1}
        if 'ping' in command:
            return {'ok': 1.}
        # TODO(pascal): Differentiate NotImplementedError for valid commands
        # and OperationFailure if the command is not valid.
>       raise NotImplementedError(
            'command is a valid Database method but is not implemented in Mongomock yet')
E       NotImplementedError: command is a valid Database method but is not implemented in Mongomock yet

src\apps\backend\venv\Lib\site-packages\mongomock\database.py:223: NotImplementedError
=========================== short test summary info ===========================
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_create_comment
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment_not_found
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_get_comments
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_update_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_create_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment_not_found
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_get_comments
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_update_comment
=================== 5 failed, 5 errors in 83.02s (0:01:23) ====================
