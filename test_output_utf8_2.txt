============================= test session starts =============================
platform win32 -- Python 3.12.2, pytest-9.0.2, pluggy-1.6.0
rootdir: C:\Users\saisagar\Downloads\flask-react-assessment-saisagardunna-main\flask-react-assessment-saisagardunna-main\tests
configfile: pyproject.toml
plugins: cov-7.0.0
collected 5 items

tests\modules\task\test_comment_api.py FEFEFEFEFE                        [100%]

=================================== ERRORS ====================================
___________ ERROR at teardown of TestCommentApi.test_create_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
___________ ERROR at teardown of TestCommentApi.test_delete_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
______ ERROR at teardown of TestCommentApi.test_delete_comment_not_found ______
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
____________ ERROR at teardown of TestCommentApi.test_get_comments ____________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
___________ ERROR at teardown of TestCommentApi.test_update_comment ___________
tests\modules\task\base_test_task.py:33: in tearDown
    TaskRepository.collection().delete_many({})
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
================================== FAILURES ===================================
_____________________ TestCommentApi.test_create_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_create_comment>

    def test_create_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:8: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
_____________________ TestCommentApi.test_delete_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_delete_comment>

    def test_delete_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:72: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
________________ TestCommentApi.test_delete_comment_not_found _________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_delete_comment_not_found>

    def test_delete_comment_not_found(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:91: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
______________________ TestCommentApi.test_get_comments _______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_get_comments>

    def test_get_comments(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:39: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
_____________________ TestCommentApi.test_update_comment ______________________

self = <tests.modules.task.test_comment_api.TestCommentApi testMethod=test_update_comment>

    def test_update_comment(self):
>       account, token = self.create_account_and_get_token()
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\modules\task\test_comment_api.py:56: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\modules\task\base_test_task.py:74: in create_account_and_get_token
    account = self.create_test_account(username=test_username, password=test_password)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\modules\task\base_test_task.py:50: in create_test_account
    return AccountService.create_account_by_username_and_password(
src\apps\backend\modules\account\account_service.py:26: in create_account_by_username_and_password
    account = AccountWriter.create_account_by_username_and_password(params=params)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\account\internal\account_writer.py:30: in create_account_by_username_and_password
    AccountReader.check_username_not_exist(params=params)
src\apps\backend\modules\account\internal\account_reader.py:52: in check_username_not_exist
    account_bson = AccountRepository.collection().find_one({"active": True, "username": params.username})
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\modules\application\repository.py:51: in collection
    database = client.get_database()
               ^^^^^^^^^^^^^^^^^^^^^
src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:149: in get_database
    db = self.get_default_database(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = mongomock.MongoClient('localhost', 27017), default = None
kwargs = {'codec_options': None, 'read_concern': None, 'read_preference': None, 'write_concern': None}
name = None

    def get_default_database(self, default=None, **kwargs):
        name = self.__default_database_name
        name = name if name is not None else default
        if name is None:
>           raise ConfigurationError('No default database name defined or provided.')
E           pymongo.errors.ConfigurationError: No default database name defined or provided.

src\apps\backend\venv\Lib\site-packages\mongomock\mongo_client.py:169: ConfigurationError
=========================== short test summary info ===========================
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_create_comment
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment_not_found
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_get_comments
FAILED tests\modules\task\test_comment_api.py::TestCommentApi::test_update_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_create_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_delete_comment_not_found
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_get_comments
ERROR tests\modules\task\test_comment_api.py::TestCommentApi::test_update_comment
======================== 5 failed, 5 errors in 53.07s =========================
